# 🏝️ ระบบค้นหาสถานที่ท่องเที่ยว อัจฉริยะ

## Smart Thailand Tourism Search System

> ระบบค้นหาสถานที่ท่องเที่ยวประเทศไทยอัจฉริยะ พร้อมฟีเจอร์ที่ครบครัน ใช้งานง่าย และปลอดภัยสูงสุด




## 🎯 ภาพรวมระบบ

**ระบบค้นหาสถานที่ท่องเที่ยว อัจฉริยะ** คือแพลตฟอร์มสำหรับค้นหาสถานที่ท่องเที่ยวทั่วประเทศไทย โดยเชื่อมต่อกับ **TAT DATA API** (การท่องเที่ยวแห่งประเทศไทย) เพื่อดึงข้อมูลสถานที่ท่องเที่ยวที่เป็นปัจจุบัน พร้อมระบบรีวิว, วางแผนเที่ยว และนำทางอัจฉริยะ

### 🌟 จุดเด่นของระบบ

- 🔍 **ค้นหาอัจฉริยะ** - ค้นหาได้หลายมิติ ทั้งชื่อ, จังหวัด, หมวดหมู่, อารมณ์, งบประมาณ, ฤดูกาล
- 📍 **ที่เที่ยวใกล้ฉัน** - ใช้ GPS หาสถานที่ใกล้เคียงอัตโนมัติ
- ⭐ **รีวิวและให้คะแนน** - ระบบรีวิวแบบละเอียด พร้อมอัปโหลดรูปภาพ
- 🗺️ **วางแผนเที่ยว** - สร้างทริปส่วนตัว พร้อมคำนวณเส้นทางอัตโนมัติ


---

## 👥 กลุ่มผู้ใช้งาน

### 1. 🧳 นักท่องเที่ยวทั่วไป (Guest/User)

| ความสามารถ   | รายละเอียด                           |
| ------------ | ------------------------------------ |
| ค้นหาสถานที่ | ค้นหาแบบ Keyword, Filter ตามหมวดหมู่ |
| ดูรีวิว      | อ่านรีวิวจากผู้ใช้จริง ดูรูปภาพ      |
| ดูเส้นทาง    | นำทางไปยังจุดหมายผ่าน Google Maps    |
| วางแผนทริป   | สร้าง Trip List ส่วนตัว              |
| บันทึกโปรด   | บันทึกสถานที่ที่ชอบ                  |

### 2. 🏠 ผู้ประกอบการ/เจ้าถิ่น (Local Guide/Owner)

| ความสามารถ          | รายละเอียด                   |
| ------------------- | ---------------------------- |
| โปรโมทสถานที่       | เพิ่มสถานที่ท่องเที่ยวใหม่   |
| อัปเดตข้อมูล        | แก้ไขเวลาเปิด-ปิด, ค่าเข้าชม |
| ปักหมุดที่เที่ยวลับ | แนะนำสถานที่ลับเฉพาะ         |
| ตอบรีวิว            | ตอบกลับรีวิวจากนักท่องเที่ยว |

### 3. 🛡️ ผู้ดูแลระบบ (Admin)

| ความสามารถ        | รายละเอียด                        |
| ----------------- | --------------------------------- |
| จัดการเนื้อหา     | เพิ่ม/แก้ไข/ลบสถานที่ทั้งหมด      |
| ตรวจสอบเนื้อหา    | อนุมัติสถานที่ใหม่จาก Local Guide |
| จัดการผู้ใช้      | ดู/แก้ไข/ระงับบัญชีผู้ใช้         |
| จัดการรีวิว       | ลบรีวิวที่ไม่เหมาะสม              |
| จัดการความคิดเห็น | ดูแลคอมเมนต์ทั้งหมด               |
| ดูแลความปลอดภัย   | Monitor logs, จัดการ security     |



**ฟีเจอร์เด็ด:**

- ➕ กด "Add to Trip" เพื่อเพิ่มสถานที่
- 🤖 คำนวณเส้นทางอัตโนมัติ (ไม่ย้อนไปมา)
- 📤 แชร์ทริปให้เพื่อน
- 💾 บันทึกทริปไว้ใช้ภายหลัง

---

## 🛠️ เทคโนโลยีที่ใช้

### Frontend

| เทคโนโลยี    | เวอร์ชัน | หน้าที่                 |
| ------------ | -------- | ----------------------- |
| HTML5        | -        | โครงสร้างหน้าเว็บ       |
| CSS3         | -        | จัดรูปแบบพื้นฐาน        |
| Tailwind CSS | v3.x     | UI Framework หลัก       |
| JavaScript   | ES6+     | Logic และ Interactivity |

### Backend

| เทคโนโลยี | เวอร์ชัน | หน้าที่                      |
| --------- | -------- | ---------------------------- |
| PHP       | 8.x      | Server-side logic            |
| PDO       | -        | Database connection (Secure) |

### Database

| เทคโนโลยี  | เวอร์ชัน | หน้าที่         |
| ---------- | -------- | --------------- |
| MySQL      | 8.x      | จัดเก็บข้อมูล   |
| phpMyAdmin | -        | จัดการ Database |

### External APIs

| API                 | หน้าที่                         |
| ------------------- | ------------------------------- |
| TAT DATA API        | ข้อมูลสถานที่ท่องเที่ยว ททท.    |
| OpenStreetMap (OSM) | ข้อมูลแผนที่ฟรี ไม่มีค่าใช้จ่าย |

### Libraries เสริม

| Library     | หน้าที่                      |
| ----------- | ---------------------------- |
| Swiper.js   | Image Gallery/Slider         |
| Leaflet.js  | Interactive Map (ใช้กับ OSM) |
| SweetAlert2 | Beautiful Alert Dialogs      |
| DataTables  | ตารางข้อมูล Admin            |

---

## 📂 โครงสร้างโปรเจค

```
new_traval/
├── 📁 assets/
│   ├── 📁 css/
│   │   ├── style.css           # Custom styles
│   │   └── tailwind.config.js  # Tailwind config
│   ├── 📁 js/
│   │   ├── app.js              # Main app logic
│   │   ├── search.js           # Search functionality
│   │   ├── map.js              # Map integration
│   │   └── trip-planner.js     # Trip planning
│   └── 📁 images/
│       └── ...                  # Static images
│
├── 📁 config/
│   ├── database.php            # Database connection
│   ├── config.php              # App configuration
│   └── api_config.php          # TAT API settings
│
├── 📁 includes/
│   ├── header.php              # Header template
│   ├── footer.php              # Footer template
│   ├── navigation.php          # Nav menu
│   └── functions.php           # Helper functions
│
├── 📁 api/
│   ├── search.php              # Search API endpoint
│   ├── places.php              # Places CRUD
│   ├── reviews.php             # Reviews CRUD
│   ├── trips.php               # Trip planner API
│   └── tat_proxy.php           # TAT API proxy
│
├── 📁 pages/
│   ├── 📁 public/
│   │   ├── index.php           # หน้าแรก
│   │   ├── search.php          # หน้าค้นหา
│   │   ├── place.php           # รายละเอียดสถานที่
│   │   ├── reviews.php         # รีวิวทั้งหมด
│   │   └── nearby.php          # ที่เที่ยวใกล้ฉัน
│   │
│   ├── 📁 user/
│   │   ├── login.php           # เข้าสู่ระบบ
│   │   ├── register.php        # สมัครสมาชิก
│   │   ├── profile.php         # โปรไฟล์
│   │   ├── favorites.php       # รายการโปรด
│   │   └── trips.php           # ทริปของฉัน
│   │
│   ├── 📁 owner/
│   │   ├── dashboard.php       # Dashboard
│   │   ├── my-places.php       # สถานที่ของฉัน
│   │   ├── add-place.php       # เพิ่มสถานที่
│   │   └── reviews.php         # ตอบรีวิว
│   │
│   └── 📁 admin/
│       ├── dashboard.php       # Admin Dashboard
│       ├── places.php          # จัดการสถานที่
│       ├── users.php           # จัดการผู้ใช้
│       ├── reviews.php         # จัดการรีวิว
│       ├── comments.php        # จัดการคอมเมนต์
│       └── settings.php        # ตั้งค่าระบบ
│
├── 📁 database/
│   └── schema.sql              # Database schema
│
├── .htaccess                   # Security rules
├── index.php                   # Entry point
└── README.md                   # เอกสารนี้
```

---

## 🧮 อธิบายอัลกอริทึม

### 📊 สูตรคำนวณคะแนนความน่าสนใจ (Popularity Score)

```
Score = (R × 0.4) + (V × 0.3) + (N × 0.3)
```

| ตัวแปร | ความหมาย | น้ำหนัก | คำอธิบาย                   |
| ------ | -------- | ------- | -------------------------- |
| **R**  | Rating   | 40%     | คะแนนรีวิวเฉลี่ย (1-5)     |
| **V**  | Views    | 30%     | จำนวนคนเข้าชม (Normalized) |
| **N**  | Newness  | 30%     | ความใหม่ของรีวิว           |

### 🧠 อธิบายเป็นภาษาไทย

#### 1. Rating (R) - คะแนนรีวิวเฉลี่ย (40%)

- คิดจากคะแนนเฉลี่ยของรีวิวทั้งหมด
- น้ำหนัก 40% เพราะคะแนนจากประสบการณ์จริงสำคัญที่สุด
- ตัวอย่าง: ถ้าคะแนนเฉลี่ย 4.5 → R = 4.5

#### 2. View Count (V) - จำนวนคนเข้าชม (30%)

- ใช้ Log Scale เพื่อลดความเหลื่อมล้ำระหว่างสถานที่ยอดนิยมกับสถานที่ใหม่
- สูตร: `V = log10(view_count + 1) / log10(max_views + 1) × 5`
- น้ำหนัก 30% เพราะสถานที่ที่คนสนใจเยอะมักมีคุณค่า

#### 3. Recency (N) - ความใหม่ของรีวิว (30%)

- รีวิวใหม่มีน้ำหนักมากกว่ารีวิวเก่า
- สูตร: `N = 5 × e^(-days_since_review / 30)`
- รีวิวอายุ 0 วัน = 5 คะแนน, อายุ 30 วัน ≈ 1.8 คะแนน
- น้ำหนัก 30% เพื่อให้ข้อมูลเป็นปัจจุบัน

### 📈 ตัวอย่างการคำนวณ

**กรณีศึกษา: วัดพระแก้ว**

```
R = 4.8 (คะแนนรีวิวเฉลี่ย)
V = 4.2 (Normalized จาก 50,000 views)
N = 3.5 (รีวิวล่าสุดเมื่อ 10 วันก่อน)

Score = (4.8 × 0.4) + (4.2 × 0.3) + (3.5 × 0.3)
      = 1.92 + 1.26 + 1.05
      = 4.23 คะแนน
```

### 🎯 ทำไมใช้สูตรนี้?

| ปัญหา                                     | วิธีแก้                             |
| ----------------------------------------- | ----------------------------------- |
| สถานที่เก่าแก่มีรีวิวเยอะเลยขึ้นตลอด      | ใช้ Recency (N) ให้น้ำหนักรีวิวใหม่ |
| สถานที่ใหม่ไม่มีโอกาสขึ้น                 | ใช้ Log Scale สำหรับ Views          |
| Rating 5 ดาว 2 รีวิว vs 4.5 ดาว 500 รีวิว | ผสม Views เข้าไปให้สมดุล            |



## 🔒 ความปลอดภัย

### มาตรการป้องกัน

| ภัยคุกคาม                             | มาตรการ                               |
| ------------------------------------- | ------------------------------------- |
| **SQL Injection**                     | ใช้ PDO Prepared Statements ทุก Query |
| **XSS (Cross-Site Scripting)**        | htmlspecialchars() ทุก Output         |
| **CSRF (Cross-Site Request Forgery)** | Token ทุกฟอร์ม                        |
| **Password**                          | password_hash() + bcrypt              |
| **Session Hijacking**                 | Secure + HttpOnly Cookies             |
| **File Upload**                       | ตรวจสอบ MIME Type + Rename files      |

username/password test 
userทั่วไป สมัตรใช้งานได้เลย 
admin : username :admin@gmail.com
      : password:admin123
owner : username:owner@gmail.com
      :password: owner123


      




