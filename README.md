# 🏝️ ระบบค้นหาสถานที่ท่องเที่ยว อัจฉริยะ

## Smart Thailand Tourism Search System

> ระบบค้นหาสถานที่ท่องเที่ยวประเทศไทยอัจฉริยะ พร้อมฟีเจอร์ที่ครบครัน ใช้งานง่าย และปลอดภัยสูงสุด

---

## 📋 สารบัญ

1. [ภาพรวมระบบ](#-ภาพรวมระบบ)
2. [กลุ่มผู้ใช้งาน](#-กลุ่มผู้ใช้งาน)
3. [ฟีเจอร์หลัก](#-ฟีเจอร์หลัก)
4. [เทคโนโลยีที่ใช้](#-เทคโนโลยีที่ใช้)
5. [โครงสร้างโปรเจค](#-โครงสร้างโปรเจค)
6. [อธิบายอัลกอริทึม](#-อธิบายอัลกอริทึม)
7. [การติดตั้ง](#-การติดตั้ง)
8. [ความปลอดภัย](#-ความปลอดภัย)
9. [แผนการพัฒนา](#-แผนการพัฒนา)

---

## 🎯 ภาพรวมระบบ

**ระบบค้นหาสถานที่ท่องเที่ยว อัจฉริยะ** คือแพลตฟอร์มสำหรับค้นหาสถานที่ท่องเที่ยวทั่วประเทศไทย โดยเชื่อมต่อกับ **TAT DATA API** (การท่องเที่ยวแห่งประเทศไทย) เพื่อดึงข้อมูลสถานที่ท่องเที่ยวที่เป็นปัจจุบัน พร้อมระบบรีวิว, วางแผนเที่ยว และนำทางอัจฉริยะ

### 🌟 จุดเด่นของระบบ

- 🔍 **ค้นหาอัจฉริยะ** - ค้นหาได้หลายมิติ ทั้งชื่อ, จังหวัด, หมวดหมู่, อารมณ์, งบประมาณ, ฤดูกาล
- 📍 **ที่เที่ยวใกล้ฉัน** - ใช้ GPS หาสถานที่ใกล้เคียงอัตโนมัติ
- ⭐ **รีวิวและให้คะแนน** - ระบบรีวิวแบบละเอียด พร้อมอัปโหลดรูปภาพ
- 🗺️ **วางแผนเที่ยว** - สร้างทริปส่วนตัว พร้อมคำนวณเส้นทางอัตโนมัติ
- 🎨 **ออกแบบสวยงาม** - UI/UX ทันสมัย รองรับทุกอุปกรณ์

---

## 👥 กลุ่มผู้ใช้งาน

### 1. 🧳 นักท่องเที่ยวทั่วไป (Guest/User)

| ความสามารถ   | รายละเอียด                           |
| ------------ | ------------------------------------ |
| ค้นหาสถานที่ | ค้นหาแบบ Keyword, Filter ตามหมวดหมู่ |
| ดูรีวิว      | อ่านรีวิวจากผู้ใช้จริง ดูรูปภาพ      |
| ดูเส้นทาง    | นำทางไปยังจุดหมายผ่าน Google Maps    |
| วางแผนทริป   | สร้าง Trip List ส่วนตัว              |
| บันทึกโปรด   | บันทึกสถานที่ที่ชอบ                  |

### 2. 🏠 ผู้ประกอบการ/เจ้าถิ่น (Local Guide/Owner)

| ความสามารถ          | รายละเอียด                   |
| ------------------- | ---------------------------- |
| โปรโมทสถานที่       | เพิ่มสถานที่ท่องเที่ยวใหม่   |
| อัปเดตข้อมูล        | แก้ไขเวลาเปิด-ปิด, ค่าเข้าชม |
| ปักหมุดที่เที่ยวลับ | แนะนำสถานที่ลับเฉพาะ         |
| ตอบรีวิว            | ตอบกลับรีวิวจากนักท่องเที่ยว |

### 3. 🛡️ ผู้ดูแลระบบ (Admin)

| ความสามารถ        | รายละเอียด                        |
| ----------------- | --------------------------------- |
| จัดการเนื้อหา     | เพิ่ม/แก้ไข/ลบสถานที่ทั้งหมด      |
| ตรวจสอบเนื้อหา    | อนุมัติสถานที่ใหม่จาก Local Guide |
| จัดการผู้ใช้      | ดู/แก้ไข/ระงับบัญชีผู้ใช้         |
| จัดการรีวิว       | ลบรีวิวที่ไม่เหมาะสม              |
| จัดการความคิดเห็น | ดูแลคอมเมนต์ทั้งหมด               |
| ดูแลความปลอดภัย   | Monitor logs, จัดการ security     |

---

## ✨ ฟีเจอร์หลัก

### A. 🔍 ระบบค้นหาอัจฉริยะ (Smart Search Engine)

ไม่ใช่แค่พิมพ์แล้วเจอ แต่สามารถกรองได้หลายมิติ:

```
┌─────────────────────────────────────────────────────────────┐
│                 🔍 ค้นหาสถานที่ท่องเที่ยว                    │
├─────────────────────────────────────────────────────────────┤
│  📝 Keyword: [ชื่อสถานที่, จังหวัด, อำเภอ]                   │
│                                                             │
│  📂 หมวดหมู่:  ☐ ภูเขา  ☐ ทะเล  ☐ วัด  ☐ คาเฟ่            │
│              ☐ พิพิธภัณฑ์  ☐ Unseen                        │
│                                                             │
│  💫 อารมณ์:   ☐ เงียบสงบ  ☐ ผจญภัย  ☐ โรแมนติก            │
│              ☐ สำหรับครอบครัว                              │
│                                                             │
│  💰 งบประมาณ: ○ ประหยัด  ○ ปานกลาง  ○ หรูหรา              │
│                                                             │
│  🌤️ ฤดูกาล:  ☐ เที่ยวหน้าฝน  ☐ หนีร้อน  ☐ ล่าหมอก        │
└─────────────────────────────────────────────────────────────┘
```

### B. 📍 ระบบ Geolocation (Near Me)

- ขออนุญาตเข้าถึงตำแหน่งผู้ใช้ (GPS)
- แสดงสถานที่ใกล้เคียงในรัศมี:
  - 🔵 5 กิโลเมตร
  - 🟢 10 กิโลเมตร
  - 🟡 20 กิโลเมตร
- แสดงผลบนแผนที่แบบ Interactive

### C. 📄 หน้ารายละเอียดสถานที่ (Place Detail)

```
┌─────────────────────────────────────────────┐
│ 🖼️ Image Gallery (Slideshow)                │
├─────────────────────────────────────────────┤
│ 📛 ชื่อสถานที่: วัดพระแก้ว                   │
│ ⭐ Rating: 4.8/5 (1,234 รีวิว)              │
│ 📍 ที่อยู่: เขตพระนคร, กรุงเทพฯ              │
│                                             │
│ ⏰ เวลาเปิด-ปิด: 08:30 - 15:30              │
│    🟢 กำลังเปิดให้บริการ                     │
│                                             │
│ 💵 ค่าเข้าชม:                               │
│    - คนไทย: ฟรี                             │
│    - ต่างชาติ: 500 บาท                      │
│                                             │
│ 🎯 สิ่งอำนวยความสะดวก:                       │
│    ✅ ที่จอดรถ  ✅ ห้องน้ำ                   │
│    ✅ ทางลาดคนพิการ  ✅ WiFi                 │
│                                             │
│ [🗺️ นำทาง]  [❤️ บันทึก]  [📋 เพิ่มในทริป]   │
└─────────────────────────────────────────────┘
```

### D. ⭐ ระบบรีวิวและให้คะแนน (Reviews & Ratings)

- **Rating 1-5 ดาว แยกหัวข้อ:**

  - ✨ ความสะอาด
  - 🤝 การบริการ
  - 💎 ความคุ้มค่า

- **ฟีเจอร์เสริม:**
  - 📷 อัปโหลดรูปภาพในรีวิว
  - 💬 Reply จากเจ้าของสถานที่
  - 👍 ระบบ Like รีวิว
  - 🚫 รายงานรีวิวไม่เหมาะสม

### E. 🗓️ ระบบวางแผนเที่ยว (Trip Planner)

```
┌─────────────────────────────────────────────┐
│        🗓️ ทริปเชียงใหม่ 3 วัน 2 คืน          │
├─────────────────────────────────────────────┤
│ 📍 วันที่ 1:                                 │
│   1. วัดพระธาตุดอยสุเทพ    ⏱️ 09:00-11:00   │
│   2. สวนดอกคำใต้           ⏱️ 13:00-15:00   │
│   3. ถนนนิมมานฯ            ⏱️ 17:00-21:00   │
│                                             │
│ 🚗 ระยะทางรวม: 45 km                        │
│ ⏰ เวลาเดินทาง: 1 ชม. 20 นาที               │
│                                             │
│ [🔄 ปรับลำดับอัตโนมัติ]  [🗺️ ดูเส้นทาง]      │
└─────────────────────────────────────────────┘
```

**ฟีเจอร์เด็ด:**

- ➕ กด "Add to Trip" เพื่อเพิ่มสถานที่
- 🤖 คำนวณเส้นทางอัตโนมัติ (ไม่ย้อนไปมา)
- 📤 แชร์ทริปให้เพื่อน
- 💾 บันทึกทริปไว้ใช้ภายหลัง

---

## 🛠️ เทคโนโลยีที่ใช้

### Frontend

| เทคโนโลยี    | เวอร์ชัน | หน้าที่                 |
| ------------ | -------- | ----------------------- |
| HTML5        | -        | โครงสร้างหน้าเว็บ       |
| CSS3         | -        | จัดรูปแบบพื้นฐาน        |
| Tailwind CSS | v3.x     | UI Framework หลัก       |
| JavaScript   | ES6+     | Logic และ Interactivity |

### Backend

| เทคโนโลยี | เวอร์ชัน | หน้าที่                      |
| --------- | -------- | ---------------------------- |
| PHP       | 8.x      | Server-side logic            |
| PDO       | -        | Database connection (Secure) |

### Database

| เทคโนโลยี  | เวอร์ชัน | หน้าที่         |
| ---------- | -------- | --------------- |
| MySQL      | 8.x      | จัดเก็บข้อมูล   |
| phpMyAdmin | -        | จัดการ Database |

### External APIs

| API                 | หน้าที่                         |
| ------------------- | ------------------------------- |
| TAT DATA API        | ข้อมูลสถานที่ท่องเที่ยว ททท.    |
| OpenStreetMap (OSM) | ข้อมูลแผนที่ฟรี ไม่มีค่าใช้จ่าย |

### Libraries เสริม

| Library     | หน้าที่                      |
| ----------- | ---------------------------- |
| Swiper.js   | Image Gallery/Slider         |
| Leaflet.js  | Interactive Map (ใช้กับ OSM) |
| SweetAlert2 | Beautiful Alert Dialogs      |
| DataTables  | ตารางข้อมูล Admin            |

---

## 📂 โครงสร้างโปรเจค

```
new_traval/
├── 📁 assets/
│   ├── 📁 css/
│   │   ├── style.css           # Custom styles
│   │   └── tailwind.config.js  # Tailwind config
│   ├── 📁 js/
│   │   ├── app.js              # Main app logic
│   │   ├── search.js           # Search functionality
│   │   ├── map.js              # Map integration
│   │   └── trip-planner.js     # Trip planning
│   └── 📁 images/
│       └── ...                  # Static images
│
├── 📁 config/
│   ├── database.php            # Database connection
│   ├── config.php              # App configuration
│   └── api_config.php          # TAT API settings
│
├── 📁 includes/
│   ├── header.php              # Header template
│   ├── footer.php              # Footer template
│   ├── navigation.php          # Nav menu
│   └── functions.php           # Helper functions
│
├── 📁 api/
│   ├── search.php              # Search API endpoint
│   ├── places.php              # Places CRUD
│   ├── reviews.php             # Reviews CRUD
│   ├── trips.php               # Trip planner API
│   └── tat_proxy.php           # TAT API proxy
│
├── 📁 pages/
│   ├── 📁 public/
│   │   ├── index.php           # หน้าแรก
│   │   ├── search.php          # หน้าค้นหา
│   │   ├── place.php           # รายละเอียดสถานที่
│   │   ├── reviews.php         # รีวิวทั้งหมด
│   │   └── nearby.php          # ที่เที่ยวใกล้ฉัน
│   │
│   ├── 📁 user/
│   │   ├── login.php           # เข้าสู่ระบบ
│   │   ├── register.php        # สมัครสมาชิก
│   │   ├── profile.php         # โปรไฟล์
│   │   ├── favorites.php       # รายการโปรด
│   │   └── trips.php           # ทริปของฉัน
│   │
│   ├── 📁 owner/
│   │   ├── dashboard.php       # Dashboard
│   │   ├── my-places.php       # สถานที่ของฉัน
│   │   ├── add-place.php       # เพิ่มสถานที่
│   │   └── reviews.php         # ตอบรีวิว
│   │
│   └── 📁 admin/
│       ├── dashboard.php       # Admin Dashboard
│       ├── places.php          # จัดการสถานที่
│       ├── users.php           # จัดการผู้ใช้
│       ├── reviews.php         # จัดการรีวิว
│       ├── comments.php        # จัดการคอมเมนต์
│       └── settings.php        # ตั้งค่าระบบ
│
├── 📁 database/
│   └── schema.sql              # Database schema
│
├── .htaccess                   # Security rules
├── index.php                   # Entry point
└── README.md                   # เอกสารนี้
```

---

## 🧮 อธิบายอัลกอริทึม

### 📊 สูตรคำนวณคะแนนความน่าสนใจ (Popularity Score)

```
Score = (R × 0.4) + (V × 0.3) + (N × 0.3)
```

| ตัวแปร | ความหมาย | น้ำหนัก | คำอธิบาย                   |
| ------ | -------- | ------- | -------------------------- |
| **R**  | Rating   | 40%     | คะแนนรีวิวเฉลี่ย (1-5)     |
| **V**  | Views    | 30%     | จำนวนคนเข้าชม (Normalized) |
| **N**  | Newness  | 30%     | ความใหม่ของรีวิว           |

### 🧠 อธิบายเป็นภาษาไทย

#### 1. Rating (R) - คะแนนรีวิวเฉลี่ย (40%)

- คิดจากคะแนนเฉลี่ยของรีวิวทั้งหมด
- น้ำหนัก 40% เพราะคะแนนจากประสบการณ์จริงสำคัญที่สุด
- ตัวอย่าง: ถ้าคะแนนเฉลี่ย 4.5 → R = 4.5

#### 2. View Count (V) - จำนวนคนเข้าชม (30%)

- ใช้ Log Scale เพื่อลดความเหลื่อมล้ำระหว่างสถานที่ยอดนิยมกับสถานที่ใหม่
- สูตร: `V = log10(view_count + 1) / log10(max_views + 1) × 5`
- น้ำหนัก 30% เพราะสถานที่ที่คนสนใจเยอะมักมีคุณค่า

#### 3. Recency (N) - ความใหม่ของรีวิว (30%)

- รีวิวใหม่มีน้ำหนักมากกว่ารีวิวเก่า
- สูตร: `N = 5 × e^(-days_since_review / 30)`
- รีวิวอายุ 0 วัน = 5 คะแนน, อายุ 30 วัน ≈ 1.8 คะแนน
- น้ำหนัก 30% เพื่อให้ข้อมูลเป็นปัจจุบัน

### 📈 ตัวอย่างการคำนวณ

**กรณีศึกษา: วัดพระแก้ว**

```
R = 4.8 (คะแนนรีวิวเฉลี่ย)
V = 4.2 (Normalized จาก 50,000 views)
N = 3.5 (รีวิวล่าสุดเมื่อ 10 วันก่อน)

Score = (4.8 × 0.4) + (4.2 × 0.3) + (3.5 × 0.3)
      = 1.92 + 1.26 + 1.05
      = 4.23 คะแนน
```

### 🎯 ทำไมใช้สูตรนี้?

| ปัญหา                                     | วิธีแก้                             |
| ----------------------------------------- | ----------------------------------- |
| สถานที่เก่าแก่มีรีวิวเยอะเลยขึ้นตลอด      | ใช้ Recency (N) ให้น้ำหนักรีวิวใหม่ |
| สถานที่ใหม่ไม่มีโอกาสขึ้น                 | ใช้ Log Scale สำหรับ Views          |
| Rating 5 ดาว 2 รีวิว vs 4.5 ดาว 500 รีวิว | ผสม Views เข้าไปให้สมดุล            |

---

## ⚙️ การติดตั้ง

### ขั้นตอนที่ 1: Clone โปรเจค

```bash
cd c:/xampp1/htdocs/
git clone [repository-url] new_traval
```

### ขั้นตอนที่ 2: ตั้งค่า Database

```sql
-- สร้าง Database
CREATE DATABASE tourism_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- Import schema
mysql -u root -p tourism_db < database/schema.sql
```

### ขั้นตอนที่ 3: ตั้งค่า Config

```php
// config/config.php
define('DB_HOST', 'localhost');
define('DB_NAME', 'tourism_db');
define('DB_USER', 'root');
define('DB_PASS', '');

// TAT API Key
define('TAT_API_KEY', 'dluV3dY4qTrAiyOat5DxPC8yAGBM4M8g');
define('TAT_API_URL', 'https://tatapi.tourismthailand.org/tatapi/v5');
```

### ขั้นตอนที่ 4: รัน XAMPP

- เปิด Apache และ MySQL ใน XAMPP Control Panel
- เข้า `http://localhost/new_traval`

---

## 🔒 ความปลอดภัย

### มาตรการป้องกัน

| ภัยคุกคาม                             | มาตรการ                               |
| ------------------------------------- | ------------------------------------- |
| **SQL Injection**                     | ใช้ PDO Prepared Statements ทุก Query |
| **XSS (Cross-Site Scripting)**        | htmlspecialchars() ทุก Output         |
| **CSRF (Cross-Site Request Forgery)** | Token ทุกฟอร์ม                        |
| **Password**                          | password_hash() + bcrypt              |
| **Session Hijacking**                 | Secure + HttpOnly Cookies             |
| **File Upload**                       | ตรวจสอบ MIME Type + Rename files      |

### ตัวอย่าง Code ปลอดภัย

```php
// ✅ PDO Prepared Statement
$stmt = $pdo->prepare("SELECT * FROM places WHERE id = ?");
$stmt->execute([$id]);

// ✅ XSS Prevention
echo htmlspecialchars($user_input, ENT_QUOTES, 'UTF-8');

// ✅ CSRF Token
$_SESSION['csrf_token'] = bin2hex(random_bytes(32));

// ✅ Password Hashing
$hash = password_hash($password, PASSWORD_BCRYPT);
```

---

## 📅 แผนการพัฒนา

### Phase 1: พื้นฐาน (สัปดาห์ 1-2)

- [x] วางโครงสร้างโปรเจค
- [ ] ออกแบบ Database
- [ ] สร้างหน้า Login/Register
- [ ] ระบบ Authentication

### Phase 2: ฟีเจอร์หลัก (สัปดาห์ 3-4)

- [ ] เชื่อมต่อ TAT API
- [ ] ระบบค้นหาอัจฉริยะ
- [ ] หน้ารายละเอียดสถานที่
- [ ] ระบบ Geolocation

### Phase 3: ระบบรีวิว (สัปดาห์ 5-6)

- [ ] สร้างระบบรีวิว
- [ ] อัปโหลดรูปในรีวิว
- [ ] ระบบ Rating แยกหัวข้อ
- [ ] คำนวณ Popularity Score

### Phase 4: Trip Planner (สัปดาห์ 7-8)

- [x] สร้างระบบ Trip
- [x] อัลกอริทึมจัดเส้นทาง
- [x] เชื่อมต่อ OpenStreetMap + Leaflet.js
- [x] Share Trip

### Phase 5: Admin Panel (สัปดาห์ 9-10)

- [x] Dashboard สำหรับ Admin
- [x] จัดการ Users
- [x] จัดการ Content
- [x] Moderation Tools

### Phase 6: Optimization (สัปดาห์ 11-12)

- [ ] Performance Tuning
- [ ] Security Audit
- [ ] Mobile UX Polish
- [ ] Testing & Bug Fix

---

## 📱 Responsive Design

ระบบรองรับการแสดงผลบนทุกอุปกรณ์:

| อุปกรณ์    | Breakpoint     | การแสดงผล                   |
| ---------- | -------------- | --------------------------- |
| 📱 Mobile  | < 640px        | 1 คอลัมน์, เมนู Hamburger   |
| 📱 Tablet  | 640px - 1024px | 2 คอลัมน์, เมนู Collapsible |
| 💻 Desktop | > 1024px       | 4 คอลัมน์, เมนูเต็ม         |

---

## 📞 ติดต่อ

หากมีข้อสงสัยหรือต้องการความช่วยเหลือ สามารถติดต่อได้ที่:

- 📧 Email: developer@example.com
- 🐛 Issues: GitHub Issues

---

## 📄 License

MIT License - สามารถนำไปใช้และแก้ไขได้อิสระ

---

<div align="center">
  
  **Made with ❤️ for Thailand Tourism**
  
  🏝️ เที่ยวไทย ไปด้วยกัน 🏝️
  
</div>
